{"version":3,"sources":["draft-treeview.js"],"names":["draft","Container","mixin","createTreeView","treeView","document","createElement","className","pre","appendChild","this","dom","node","addEventListener","e","currentTarget","element","updateTreeView","treeString","stringify","split","join","firstChild","textContent","domID","longestLine","reduce","a","b","length","style","width","Math","min"],"mappings":"AAAA,cAUA,WAKEA,MAAMC,UAAUC,OAKdC,eAAc,WACZ,GAAIC,GAAWC,SAASC,cAAc,MACtCF,GAASG,UAAY,WAAY,IAK7BC,GAAMH,SAASC,cAAc,MAYjC,OAXAF,GAASK,YAAYD,GAAKE,KAGrBC,IAAMD,KAAKC,QAChBD,KAAKC,IAAIP,SAAWA,EAEpBM,KAAKC,IAAIC,KAAKC,iBAAiB,SAAU,SAASC,GAEhDA,EAAEC,cAAcC,QAAQC,mBACvB,GAEIP,KAAKO,kBAGdA,eAAc,WACZ,GAAIC,GAAaR,KAAKS,YAAYC,MAAM,KAAKC,KAAK,GAClDX,MAAKC,IAAIP,SAASkB,WAAWC,YAAiBb,KAAKc,MAAK,KAAKN,CAE7D,IAAIO,GAAcP,EAAWE,MAAM,MAAMM,OAAO,SAASC,EAAGC,GAC1D,MAAOD,GAAEE,OAASD,EAAEC,OAASF,EAAIC,GAMnC,OALGlB,MAEEC,IAAIP,SAAS0B,MAAMC,MACnBC,KAAKC,IAAIR,EAAYI,OAAS,EAAG,IAAG,KAElCnB,KAAKC,IAAIP","file":"draft-treeview.min.js","sourcesContent":["/*\n* draft-treeview - A plugin for draft.js that renders nice tree views in the DOM\n* version v0.0.0\n* https://github.com/D1SC0tech/draft-treeview\n*\n* copyright Jordi Pakey-Rodriguez <jordi.orlando@gmail.com>\n* license MIT\n*\n* BUILT: Fri Jan 15 2016 17:29:22 GMT-0600 (CST)\n*/\n(function() {\n  // TODO: allow treeview to be attached to any DOM element\n  // TODO: make each element in the treeview into its own element\n\n  // draft.extend(draft.Container, treeView);\n  draft.Container.mixin({\n    /* require: [\n      draft.json\n    ], */\n\n    createTreeView() {\n      var treeView = document.createElement('div');\n      treeView.className = 'tree-view';\n\n      // treeView.appendChild(document.createElement('span'));\n      // treeView.firstChild.textContent = 'Document Model:';\n\n      var pre = document.createElement('pre');\n      treeView.appendChild(pre);\n\n      // Make sure this.dom is initialized\n      this.dom = this.dom || {};\n      this.dom.treeView = treeView;\n\n      this.dom.node.addEventListener('update', function(e) {\n        // e.stopPropagation();\n        e.currentTarget.element.updateTreeView();\n      }, false);\n\n      return this.updateTreeView();\n    },\n\n    updateTreeView() {\n      var treeString = this.stringify().split('\"').join('');\n      this.dom.treeView.firstChild.textContent = `${this.domID}: ${treeString}`;\n\n      var longestLine = treeString.split('\\n').reduce(function(a, b) {\n        return a.length > b.length ? a : b;\n      });\n      // HACK: change 84 to a non-hardcoded value\n      this.dom.treeView.style.width =\n        `${Math.min(longestLine.length + 4, 84)}ch`;\n\n      return this.dom.treeView;\n    }\n  });\n\n\n\n  /* var css = document.createElement('link');\n  css.setAttribute('rel', 'stylesheet');\n  css.setAttribute('type', 'text/css');\n  css.setAttribute('href', 'bower_components/draft-treeview/main.css');\n\n  document.getElementsByTagName('head')[0].appendChild(css); */\n})();\n"],"sourceRoot":"/source/"}